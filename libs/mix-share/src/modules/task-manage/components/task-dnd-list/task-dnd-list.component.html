<div class="task-list">
  <div class="items"
       [cdkDropListData]="tasks"
       [id]="status"
       (cdkDropListDropped)="drop($event)"
       cdkDropList>
    <mix-task-card *ngFor="let task of tasks"
                   [cdkDragData]="task"
                   [task]="task"
                   cdkDrag>
    </mix-task-card>

    @if (index === 0) {
    @if (loadingState() === 'Loading') {
    <div>Adding...</div>
    }
    <div class="flex items-center  w-fit h-12 px-3 mb-2 text-sm rounded border border-gray-300 rounded-lg bg-white cursor-pointer"
         (click)="onClickAdd()">
      <div *ngIf="!showInput()"
           class="rounded-full w-6 h-12 flex items-center justify-center cursor-pointer">
        <span class="mix-icon leading-0">add</span>
      </div>

      <input #addTaskInput
             *ngIf="showInput()"
             class="flex-grow text-sm h-10 w-40 bg-transparent !outline-none transition-all"
             type="text"
             [formControl]="taskForm"
             (focusout)="showInput.set(false)"
             tuiAutoFocus
             (keyup.enter)="addNewTask()"
             placeholder="Add a new item">
    </div>
    }

  </div>
</div>
